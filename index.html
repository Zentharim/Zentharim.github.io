<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strength of Thousands</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="topbar">
        <div class="logo">ü¶ã Strength of Thousands</div>
        <input type="text" id="searchInput" class="search-bar" placeholder="Cerca...">
    </header>

    <div class="container">
        <nav class="sidebar">
            <ul>
                <li><a href="index.html" class="active">Home / Capitoli</a></li>
                <li>
                    <span class="menu-toggle">Personaggi & NPC ‚ñº</span>
                    <ul class="submenu">
                        <li>
                            <span class="menu-toggle">Professori & Staff ‚ñº</span>
                            <ul class="submenu">
                                <li>
                                    <span class="menu-toggle">Professori ‚ñº</span>
                                    <ul class="submenu">
                                        <li><a href="#professori">High Sun-Mage Oyamba</a></li>
                                        <li><a href="#professori">Teacher Janatimo</a></li>
                                        <li><a href="#professori">Takalu Ot</a></li>
                                        <li><a href="#professori">Koride Ulawa</a></li>
                                        <li><a href="#professori">Zuma</a></li>
                                        <li><a href="#professori">Ahassunu</a></li>
                                        <li><a href="#professori">Mafika Ayuwari</a></li>
                                        <li><a href="#professori">Teacher Nhyira</a></li>
                                    </ul>
                                </li>
                                
                                <li>
                                    <span class="menu-toggle">Staff ‚ñº</span>
                                    <ul class="submenu">
                                        <li><a href="#staff">Lumusi Yao</a></li>
                                        <li><a href="#staff">Xhokan</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <main class="content">
            <h1>Benvenuti nella Campagna</h1>
            <p>Qui troverai tutte le risorse, le regole e le storie della nostra avventura. Usa il menu a sinistra per navigare.</p>
            
            <h2>Capitolo Uno</h2>
            <img src="./img/wallpaper/wp1.webp" alt="Immagine di copertina del capitolo">
            <blockquote>
                "Inizi√≤ tutto quando il vecchio mago decise di condividere i suoi segreti con il mondo. Cre√≤ un'accademia di magia e speranza..."
            </blockquote>
            <p>Questo √® il testo introduttivo del primo capitolo. Proprio come nel sito originale, puoi usare le citazioni per dare atmosfera alla storia.</p>
            
            <hr>
        </main>
    </div>

    <script>
        // Seleziona tutti gli elementi che fungono da interruttore (toggle)
        const toggles = document.querySelectorAll('.menu-toggle');

        toggles.forEach(toggle => {
            toggle.addEventListener('click', function() {
                // Trova la lista successiva al testo cliccato (il nostro ul.submenu)
                const sottomenu = this.nextElementSibling;
                
                // Aggiunge o rimuove la classe 'aperto'
                sottomenu.classList.toggle('aperto');
                
                // Opzionale: cambia la freccia da gi√π a su
                if (sottomenu.classList.contains('aperto')) {
                    this.textContent = this.textContent.replace('‚ñº', '‚ñ≤');
                } else {
                    this.textContent = this.textContent.replace('‚ñ≤', '‚ñº');
                }
            });
        });

        // Ricerca testuale nella sidebar
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            const items = document.querySelectorAll('.sidebar li');

            items.forEach(li => {
                const text = li.textContent.trim().toLowerCase();
                if (text.includes(query)) {
                    li.style.display = '';
                    // mostra anche eventuali genitori
                    let parent = li.parentElement;
                    while (parent && parent.classList.contains('submenu')) {
                        parent.style.display = 'block';
                        parent = parent.parentElement.closest('li');
                    }
                } else {
                    li.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
